{% extends "base.html" %}

{% block content %}
<div class="row">
  <div class="span5 offset2">
    <div class="navbar">
      <div class="navbar-inner">
        <a class="brand" href="#">{{ location.name }}</a>
        <ul class="nav">
          <li><a href="{{ url_for('locations_index') }}">Other Locations</a></li>
          <li><a href="{{ url_for('login') }}">Log Out</a></li>
        </ul>
      </div>
    </div>
    <p>All about this location</p>
    <table class="table table-striped">
      <thead>
        <tr>
          <th>Tank</th>
          <th>Fluid type</th>
        </tr>
      </thead>
      <tbody>
        {% for tank in tanks %}
        <tr>
          <td>{{ tank.name }}</td>
          <td>{{ tank.fluid_type }}</td>
        </tr>
        {% endfor %}
      </tbody>
    </table>
    <h4>Tank Levels</h4>
    <canvas id="chart" width="480" height="300"><canvas/>
  </div>
</div>
{% endblock %}

{% block js %}
<script>
  var ctx = $("#chart").get(0).getContext("2d");
  var data = {
    labels : ["January","February","March","April","May","June","July"],
    datasets : [
      {
      fillColor : "rgba(220,220,220,0.5)",
      strokeColor : "rgba(220,220,220,1)",
      pointColor : "rgba(220,220,220,1)",
      pointStrokeColor : "#fff",
      data : [65,59,90,81,56,55,40]
    },
    {
      fillColor : "rgba(151,187,205,0.5)",
      strokeColor : "rgba(151,187,205,1)",
      pointColor : "rgba(151,187,205,1)",
      pointStrokeColor : "#fff",
      data : [28,48,40,19,96,27,100]
    }
    ]
  }
  new Chart(ctx).Line(data, {});
</script>
{% endblock %}

